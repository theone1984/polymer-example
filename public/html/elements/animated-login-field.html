<element name="animated-login-field" extends="login-field">
    <link rel="stylesheet" href="/css/elements/login-field.css" type="text/css" charset="utf-8"/>

    <script>
        scopedCallback = function(scope, callback) {
            return function() {
                callback.apply(scope, arguments);
            };
        };

        Polymer.register(this, {

            animationFunction: new PathAnimationEffect(document.querySelector('#path')),

            loginResultEventHandler: function(eventArgs) {
                var data = eventArgs.detail;

                /*if (!data.success) {
                    this.super([eventArgs]);
                } else {*/
                    this.animateBox();
                //}
            },

            animateBox: function() {
                targetElement = this.$['login-box'];

                var player = document.timeline.play(new Animation(targetElement, {
                    opacity: ["1.0", "0.0f"],
                    transform: ["scale(1.0f)", "scale(0.0f)"]
                }, {
                    direction: "alternate", duration: 0.5
                }));


            }
        });
    </script>
</element>